{"version":3,"sources":["states/layout.ts","utils/capitalize.ts","components/Selectors/Layout.tsx","states/teaStyleFiltering.ts","components/Selectors/Filtering.tsx","states/sorting.ts","components/Selectors/Sorting.tsx","components/Toggle.tsx","states/whiteBalanced.ts","components/Selectors/Subject.tsx","components/Divider.tsx","components/Heading.tsx","components/Nav.tsx","types/TeaProduct.ts","components/TeaProduct/Image.tsx","components/Detail/Description.tsx","components/Detail/LinkButton.tsx","components/Detail/Table.tsx","components/Detail/Form.tsx","components/Detail/Detail.tsx","states/teas.ts","utils/scrollTo.ts","routes/DetailDrawer.tsx","states/selectedSlug.ts","hooks/useKeyboardNavigation.tsx","components/TeaProduct/Card.tsx","routes/Cards.tsx","components/TeaProduct/ListRow.tsx","routes/List.tsx","components/TeaProduct/Slice.tsx","routes/Slices.tsx","utils/scrollTop.ts","App.tsx","utils/reportWebVitals.ts","index.tsx"],"names":["layouts","capitalize","atom","key","default","str","toUpperCase","slice","toLowerCase","Selector","layout","subject","useParams","location","useLocation","newLocation","pathname","search","className","to","LayoutSelector","map","l","teaStyleFilteringState","isStyle","s","x","style","filteringFunctions","all","raw","ripe","white","black","oolong","Button","filtering","useRecoilState","currentFitlering","set","disabled","onClick","FilteringSelector","$Buttons","Object","keys","sortings","sortingState","getName","name","replace","nameAsc","a","b","localeCompare","year","maxDPG","Math","max","forms","dpg","sortingFunctions","Label","value","icon","getIcon","sorting","currentSorting","setSorting","SortingSelector","props","Toggle","label","classes","whiteBalancedState","WhiteBalance","isWhiteBalanced","setIsWhiteBalanced","currentSubject","newSubjectLocation","SubjectSelector","Divider","Heading","children","window","scrollTo","top","behavior","Nav","getImageUrl","url","size","Image","src","alt","width","height","Description","description","lines","target","source","regex","RegExp","glowTitle","replaceWithGlowHtml","glowText","split","html","shift","join","dangerouslySetInnerHTML","__html","LinkButton","href","TableHeading","headings","h","PriceTable","first","second","third","FormPricesTable","form","teaStyle","inStock","index","price","_name","mass","parseInt","tilde","startsWith","nan","Number","isNaN","getMassName","$price","toFixed","$ppg","textDecoration","color","percentiles","typeSize","percentile","scale","Line","number","floor","scaleIndex","padStart","left","backgroundColor","FormPercentileLineTable","Detail","tea","imageUrl","images","wrapperTop","thumbnailUrl","fullName","f","i","allTeasState","teaProducts","teasState","selector","get","filter","sort","scrollToId","id","delay","setTimeout","document","getElementById","scrollIntoView","block","DetailDrawer","allTeas","useRecoilValue","useSearchParams","params","setParams","detailSlug","find","t","slug","selectedSlugState","getDirection","direction","teas","findIndex","length","Card","detail","Cards","$Teas","ListRow","List","Slice","loading","Slices","defaultFilters","getDefaultFilters","useState","filteredSizes","setFilteredSizes","useEffect","Filters","toggle","TeaSlices","cake","brick","mini","bamboo","unknown","scrollTop","offset","elem","console","log","process","App","state","json","JSON","stringify","localStorage","setItem","selectedSlug","setSelectedSlug","useHotkeys","useKeyboardNavigation","path","element","Main","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","basename"],"mappings":"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","file":"static/js/main.af5b7f10.chunk.js","sourcesContent":["import { atom } from \"recoil\";\n\nexport type Layout = \"cards\" | \"list\" | \"slices\";\n\nexport const layouts: Layout[] = [\"cards\", \"slices\", \"list\"];\n\nexport const layoutState = atom({\n  key: \"layout\",\n  default: \"cards\" as Layout,\n});\n","export const capitalize = (str: string) => str[0].toUpperCase() + str.slice(1).toLowerCase();","import { NavLink, useLocation, useParams } from \"react-router-dom\";\nimport { Layout, layouts } from \"states/layout\";\nimport { capitalize } from \"utils/capitalize\";\n\nexport const Selector = ({ layout }: { layout: Layout }) => {\n  const { subject } = useParams();\n  const location = useLocation();\n\n  const newLocation = {\n    pathname: `${layout}/${subject}`,\n    search: location.search,\n  };\n  return (\n    <NavLink className=\"button radio button--layout\" to={newLocation}>\n      <span className=\"label\">{capitalize(layout)}</span>\n    </NavLink>\n  );\n};\n\nexport const LayoutSelector = () => (\n  <>\n    {layouts.map((l) => (\n      <Selector key={l} layout={l} />\n    ))}\n  </>\n);\n","import { atom } from \"recoil\";\nimport { TeaProduct, Style } from \"types/TeaProduct\";\n\nexport type TeaStyleFiltering = \"all\" | Style;\n\nexport const teaStyleFilteringState = atom({\n  key: \"teaStyleFilter\",\n  default: \"all\" as TeaStyleFiltering,\n});\n\nconst isStyle = (s: TeaStyleFiltering) => (x: TeaProduct) => x.style === s;\nconst identity = (x: TeaProduct) => true;\n\ntype TeaStyleFilteringMap = {\n  // TODO make non-optional\n  [key in TeaStyleFiltering]?: (a: TeaProduct) => boolean;\n};\n\nexport const filteringFunctions: TeaStyleFilteringMap = {\n  all: identity,\n  raw: isStyle(\"raw\"),\n  ripe: isStyle(\"ripe\"),\n  white: isStyle(\"white\"),\n  black: isStyle(\"black\"),\n  oolong: isStyle(\"oolong\"),\n  // TODO add data, then re-enable\n  // 'green': isStyle(TeaStyle.Green),\n  // 'unknown': isStyle(TeaStyle.Unknown),\n};\n","import { useRecoilState } from \"recoil\";\nimport {\n  filteringFunctions,\n  TeaStyleFiltering,\n  teaStyleFilteringState,\n} from \"states/teaStyleFiltering\";\n\nexport const Button = ({ filtering }: { filtering: TeaStyleFiltering }) => {\n  const [currentFitlering, set] = useRecoilState(teaStyleFilteringState);\n  return (\n    <button\n      className=\"button radio button--filter\"\n      disabled={filtering === currentFitlering}\n      onClick={() => set(filtering)}\n    >\n      {filtering}\n    </button>\n  );\n};\n\nexport const FilteringSelector = () => {\n  const $Buttons = Object.keys(filteringFunctions).map((key) => (\n    <Button filtering={key as TeaStyleFiltering} key={key} />\n  ));\n  return <>{$Buttons}</>;\n};\n","import { atom } from \"recoil\";\nimport { TeaProduct } from \"types/TeaProduct\";\n\nexport type Sorting = \"-year\" | \"+year\" | \"+name\" | \"-name\" | \"+cost\" | \"-cost\";\nexport const sortings: Sorting[] = [\n  \"-year\",\n  \"+year\",\n  \"-name\",\n  \"+name\",\n  \"-cost\",\n  \"+cost\",\n];\n\nexport const sortingState = atom({\n  key: \"sorting\",\n  default: \"-year\" as Sorting,\n});\n\nconst getName = (x: TeaProduct) => x.name.replace(\"The \", \"\");\n\nconst nameDesc = (a: TeaProduct, b: TeaProduct) =>\n  getName(b).localeCompare(getName(a)) || b.year - a.year;\nconst nameAsc = (a: TeaProduct, b: TeaProduct) =>\n  getName(a).localeCompare(getName(b)) || a.year - b.year;\n\nconst yearDesc = (a: TeaProduct, b: TeaProduct) =>\n  b.year - a.year || nameAsc(a, b);\nconst yearAsc = (a: TeaProduct, b: TeaProduct) =>\n  a.year - b.year || nameAsc(a, b);\n\nconst maxDPG = (x: TeaProduct): number =>\n  Math.max(...x.forms.map((x) => x.dpg));\n\nconst costDesc = (a: TeaProduct, b: TeaProduct) =>\n  maxDPG(b) - maxDPG(a) || nameAsc(a, b);\nconst costAsc = (a: TeaProduct, b: TeaProduct) =>\n  maxDPG(a) - maxDPG(b) || nameAsc(a, b);\n\ntype SortingFunctionMap = {\n  [key in Sorting]: (a: TeaProduct, b: TeaProduct) => number;\n};\n\nexport const sortingFunctions: SortingFunctionMap = {\n  \"-year\": yearDesc,\n  \"+year\": yearAsc,\n  \"-name\": nameDesc,\n  \"+name\": nameAsc,\n  \"-cost\": costDesc,\n  \"+cost\": costAsc,\n};\n","import { useRecoilState } from \"recoil\";\nimport { Sorting, sortings, sortingState } from \"states/sorting\";\n\nconst getIcon = (value: string) => {\n  switch (value[0]) {\n    case \"+\": {\n      // return 'â¬ˆ';\n      return \"+\";\n    }\n    case \"-\": {\n      // return 'â¬Š';\n      return \"-\";\n    }\n    default: {\n      return \"?\";\n    }\n  }\n};\n\nconst Label = ({ value }: any) => {\n  const icon = getIcon(value);\n  return (\n    <span className=\"label\">\n      <span className=\"text\">{value.slice(1)}</span>\n      &nbsp;\n      <span className=\"icon--plain\">{icon}</span>\n    </span>\n  );\n};\n\nexport const Button = ({ sorting }: { sorting: Sorting }) => {\n  const [currentSorting, setSorting] = useRecoilState(sortingState);\n  return (\n    <button\n      className=\"button radio button--sort\"\n      disabled={sorting === currentSorting}\n      onClick={() => setSorting(sorting)}\n    >\n      <Label value={sorting} />\n    </button>\n  );\n};\n\nexport const SortingSelector = (props: any) => {\n  const $Buttons = sortings.map((s) => <Button sorting={s} key={s} />);\n  return <>{$Buttons}</>;\n};\n","import { Dispatch, SetStateAction } from \"react\";\n\ninterface ToggleProps {\n  value: boolean;\n  set: Dispatch<SetStateAction<boolean>>;\n  label: string;\n  classes?: string;\n}\n\nexport const Toggle = ({ value, label, set, classes = '' }: ToggleProps) => (\n  <button\n    className={`button toggle ${value ? 'checked' : ''} ${classes}`}\n    onClick={() => set(!value)}\n  >\n    {label}\n  </button>\n);\n","import { atom } from 'recoil';\n\nexport const whiteBalancedState = atom({\n  key: 'whiteBalanced',\n  default: true,\n});\n","import { NavLink, useLocation, useParams } from \"react-router-dom\";\nimport { useRecoilState } from \"recoil\";\nimport { Toggle } from \"components/Toggle\";\nimport { whiteBalancedState } from \"states/whiteBalanced\";\nimport { ImageSubject } from \"types/TeaProduct\";\nimport { capitalize } from \"utils/capitalize\";\nimport \"./Subject.scss\";\n\nconst WhiteBalance = () => {\n  const [isWhiteBalanced, setIsWhiteBalanced] =\n    useRecoilState(whiteBalancedState);\n  return (\n    <Toggle\n      value={isWhiteBalanced}\n      set={setIsWhiteBalanced}\n      label=\"wb\"\n      classes=\"WhiteBalance\"\n    />\n  );\n};\n\nconst label = (subject: ImageSubject) => capitalize(subject[0]);\n\nconst Button = ({ subject }: { subject: ImageSubject }) => {\n  const { subject: currentSubject } = useParams();\n  const location = useLocation();\n\n  const newSubjectLocation = currentSubject\n    ? {\n        pathname: location.pathname.replace(currentSubject, subject),\n        search: location.search,\n      }\n    : \"/\";\n  return (\n    <NavLink\n      className={`button radio button--subject `}\n      to={newSubjectLocation}\n      // disabled={currentSubject === subject}\n    >\n      {label(subject)}\n    </NavLink>\n  );\n};\n\nexport const SubjectSelector = () => {\n  const { subject: currentSubject } = useParams();\n  return (\n    <nav className={`subject-selector global`}>\n      <Button subject=\"wrapperTop\" />\n      <Button subject=\"teaTop\" />\n      <div className={`subject--white-balanced ${currentSubject}`}>\n        <WhiteBalance />\n        <Button subject=\"soup\" />\n      </div>\n    </nav>\n  );\n};\n","export const Divider = () => (\n  <>\n    <br />\n    <br />\n  </>\n);\n","export const Heading = ({ children }: any) => (\n  <h1 className=\"heading\" onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}>{children}</h1>\n);\n","import { LayoutSelector } from \"components/Selectors/Layout\";\nimport { FilteringSelector } from \"components/Selectors/Filtering\";\nimport { SortingSelector } from \"components/Selectors/Sorting\";\nimport { SubjectSelector } from \"components/Selectors/Subject\";\nimport { Divider } from \"components/Divider\";\nimport { Heading } from \"components/Heading\";\n\nexport const Nav = () => (\n  <aside className=\"controls--global\">\n    <Heading>w2tv</Heading>\n    <SubjectSelector />\n    <LayoutSelector />\n    <Divider />\n    <SortingSelector />\n    <Divider />\n    <FilteringSelector />\n    <Divider />\n  </aside>\n);\n","export type Style =\n  | \"white\"\n  | \"green\"\n  | \"black\"\n  | \"hongcha\"\n  | \"raw\"\n  | \"ripe\"\n  | \"oolong\"\n  | \"huangpian\"\n  | \"unknown\";\n\nexport type Size =\n  | \"cake\"\n  | \"mini\"\n  | \"bamboo\"\n  | \"square\"\n  | \"brick\"\n  | \"ball\"\n  | \"sample\"\n  | \"unknown\";\n\nexport type ImageSubject =\n  | \"leaf\"\n  | \"soup\"\n  | \"teaBottom\"\n  | \"teaDetail\"\n  | \"teaTop\"\n  | \"tong\"\n  | \"chabu\"\n  | \"shirt\"\n  | \"wrapperBottom\"\n  | \"wrapperDetail\"\n  | \"wrapperTop\";\n\nexport const getImageUrl = (url: string, size: number): string =>\n  url.replace(\"SIZEx\", `${size}x`);\n\nexport type Images = Partial<Record<ImageSubject, string>>;\n\nexport interface Percentile {\n  size: number;\n  type: number;\n  typeSize: number;\n  all: number;\n  dpg: number;\n}\n\nexport interface Form {\n  name: string;\n  price: number;\n  inStock: boolean;\n  grams: number;\n  dpg: number;\n  size: Size;\n  percentiles: Percentile;\n}\n\n// export enum FormName {\n//   Name7G = \"7g\",\n//   The100G = \"100g\",\n//   The10G = \"10g\",\n//   The120G = \"120g\",\n//   The1Kg = \"1kg\",\n//   The200G = \"200g\",\n//   The250G = \"250g\",\n//   The250GBrickTuoCake = \"250g Brick/Tuo/Cake\",\n//   The25G = \"25g\",\n//   The25GSample = \"25g Sample\",\n//   The357G = \"357g\",\n//   The357GCake = \"357g Cake\",\n//   The360G = \"360g\",\n//   The49G = \"~49g\",\n//   The49GStack = \"49g Stack\",\n//   The50G = \"~50g\",\n//   The7G = \"~7g\",\n//   The7GMini = \"7g Mini\",\n//   The80G = \"80g\",\n// }\n\nexport interface TeaProduct {\n  slug: string;\n  name: string;\n  year: number;\n  quantity: number;\n  description: string;\n  url: string;\n  thumbnailUrl: string;\n  version: string;\n  style: Style;\n  size: Size;\n  images: Images;\n  forms: Form[];\n  tags: string[];\n}\n","import \"./Image.scss\";\n\ninterface Props {\n  src: string;\n  alt: string;\n  width: number | string;\n  height: number | string;\n}\nexport const Image = ({ src, alt, width, height }: Props) => {\n  if (!src) {\n    return (\n      <div className=\"TeaImage placeholder responsive\">\n        <div className=\"circle\"></div>\n      </div>\n    );\n  }\n  return (\n    <img\n      src={src}\n      alt={alt}\n      width={width}\n      height={height}\n      className=\"TeaImage responsive\"\n    />\n  );\n};\n","export function replaceWithGlowHtml(target: string, source: string) {\n  const regex = new RegExp(target, \"g\");\n  const glowTitle = `<span class=\"glow\">${target}</span>`;\n  const descriptionGlow = source.replace(regex, glowTitle);\n  return descriptionGlow;\n}\ntype Props = {\n  description: string;\n  glowText: string;\n};\n\nexport const Description = ({ description, glowText }: Props) => {\n  const descriptionGlow = replaceWithGlowHtml(glowText, description);\n  const lines = descriptionGlow.split(\".\");\n  const html = `\n<p>\n  ${lines.shift()}.\n</p>\n<p>\n  ${lines.join(\". \")}\n</p>\n  `;\n  return (\n    <div className=\"description\" dangerouslySetInnerHTML={{ __html: html }} />\n  );\n};\n","export const LinkButton = ({ url }: { url: string }) => {\n  return (\n    <a className=\"DetailButton Link\" href={url}>\n      <span className=\"value\">ðŸ”—</span>\n    </a>\n  );\n};\n","import \"./Table.scss\";\n\ntype Props = {\n  headings: string[];\n};\n\nexport const TableHeading = ({ headings }: Props) => (\n  <div className=\"TableHeading table table--fit\">\n    {headings.map((h) => (\n      <span key={h}>{h}</span>\n    ))}\n  </div>\n);\n","import * as TeaProduct from \"types/TeaProduct\";\nimport \"./Table.scss\";\nimport \"./Form.scss\";\nimport { TableHeading } from \"./Table\";\n\nconst PriceTable = ({ style, first, second, third }: any) => (\n  <div style={style} className=\"Table table\">\n    <h2>{first}</h2>\n    <h3>{second}</h3>\n    <h4>{third}</h4>\n  </div>\n);\n\ntype Props = {\n  form: TeaProduct.Form;\n  style: string;\n  index: number;\n};\n\nexport const FormPricesTable = ({ form, style: teaStyle, index }: Props) => {\n  const { inStock, price } = form;\n\n  var { nan, mass, name } = getMassName(form);\n  const $price = \"$\" + price.toFixed(2);\n  const $ppg = nan ? \"$?\" : \"$\" + (price / mass).toFixed(2);\n\n  const style = {\n    textDecoration: inStock ? \"none\" : \"line-through\",\n    color: inStock ? \"inherit\" : \"var(--grey-medium)\",\n  };\n  const { percentiles } = form;\n  const { dpg, typeSize } = percentiles;\n\n  return (\n    <>\n      <TableHeading headings={[\"Size\", \"Price\", \"$ / g\"]} />\n      <PriceTable style={style} first={name} second={$price} third={$ppg} />\n      <FormPercentileLineTable first={\"\"} second={\"overall\"} percentile={dpg} />\n      <FormPercentileLineTable\n        first={\"\"}\n        second={`${teaStyle}`}\n        percentile={typeSize}\n      />\n    </>\n  );\n};\n\nexport const FormPercentileTable = ({ form }: Props) => {\n  const { inStock, percentiles } = form;\n\n  const style = {\n    textDecoration: inStock ? \"none\" : \"line-through\",\n    color: inStock ? \"inherit\" : \"var(--grey-medium)\",\n  };\n  const all = getNumberWithOrdinal(percentiles.all);\n  const dpg = getNumberWithOrdinal(percentiles.dpg);\n\n  return (\n    <div style={style} className=\"Percentile table table--fit\">\n      <h5>percentile</h5>\n      <h3>\n        {all.number}\n        <sup>{all.ordinal}</sup>\n      </h3>\n      <h3>\n        {dpg.number}\n        <sup>{dpg.ordinal}</sup>\n      </h3>\n    </div>\n  );\n};\n\nconst scale = [\n  \"#ffffe0\",\n  \"#ffe3af\",\n  \"#ffc58a\",\n  \"#ffa474\",\n  \"#fa8366\",\n  \"#ed635c\",\n  \"#db4551\",\n  \"#c52840\",\n  \"#aa0e27\",\n  \"#8b0000\",\n];\n\nexport const Line = ({ percentile }: { percentile: number }) => {\n  const number = Math.floor(percentile);\n  const scaleIndex = +number.toFixed(0).padStart(2, \"0\")[0];\n  const style = {\n    left: `${number}px`,\n    backgroundColor: scale[scaleIndex],\n    color: number >= 60 ? \"white\" : \"black\",\n  };\n  return (\n    <div className=\"Line\">\n      <span className=\"Label\" style={style}>\n        {number}\n      </span>\n    </div>\n  );\n};\n\nexport const FormPercentileLineTable = ({ first, second, percentile }: any) => {\n  return (\n    <div className=\"Percentile table table--fit\">\n      <h5>{first}</h5>\n      {/* <h5 style={{ justifySelf: \"flex-end\" }}>{second}</h5> */}\n      <h5>{second}</h5>\n      <Line percentile={percentile} />\n    </div>\n  );\n};\n\nfunction getMassName(form: TeaProduct.Form) {\n  const { name: _name } = form;\n  let mass = parseInt(_name.replace(/\\D/g, \"\"), 10);\n  if (mass === 1) mass = 1000;\n  const tilde = _name.startsWith(\"~\") ? \"~\" : \"\";\n  const nan = Number.isNaN(mass);\n  const name = nan ? \"?\" : `${tilde}${mass}g`;\n  return { nan, mass, name };\n}\n\nconst suffix = [\"th\", \"st\", \"nd\", \"rd\"];\nfunction getNumberWithOrdinal(_number: number) {\n  const number = Math.round(_number);\n  const v = number % 100;\n  const ordinal = suffix[(v - 20) % 10] || suffix[v] || suffix[0];\n  return {\n    number,\n    ordinal,\n  };\n}\n","import { getImageUrl, TeaProduct } from \"types/TeaProduct\";\nimport { Image } from \"components/TeaProduct/Image\";\nimport { Description } from \"./Description\";\nimport { LinkButton } from \"./LinkButton\";\nimport \"./Detail.scss\";\nimport { FormPricesTable } from \"./Form\";\n\ntype Props = {\n  tea: TeaProduct;\n};\n\nexport const Detail = ({ tea }: Props) => {\n  const { year, name, description, url, forms, style } = tea;\n  const size = 400;\n  const imageUrl = getImageUrl(tea.images.wrapperTop || tea.thumbnailUrl, size);\n  const fullName = `${year} ${name}`;\n\n  return (\n    <article className=\"TeaDetail\">\n      <h1 className=\"title glow\">{fullName}</h1>\n      <Image src={imageUrl} alt={name} width={size} height={size} />\n      {forms.map((f, i) => (\n        <FormPricesTable key={f.name} index={i} form={f} style={style} />\n      ))}\n      <Description glowText={fullName} description={description} />\n      <LinkButton url={url} />\n    </article>\n  );\n};\n","import { atom, selector } from \"recoil\";\nimport { TeaProduct } from \"types/TeaProduct\";\n\nimport teaProducts from \"teaProducts.json\";\nimport {\n  filteringFunctions,\n  teaStyleFilteringState,\n} from \"./teaStyleFiltering\";\nimport { sortingFunctions, sortingState } from \"./sorting\";\n// const stored = JSON.parse(localStorage.getItem(\"subjects\") || \"\");\n\nexport const allTeasState = atom({\n  key: \"allTeas\",\n  default: teaProducts as TeaProduct[],\n});\n\nexport const teasState = selector({\n  key: \"teas\",\n  get: ({ get }) => {\n    const all = get(allTeasState);\n    const filtering = get(teaStyleFilteringState);\n    const sorting = get(sortingState);\n\n    return (\n      all\n        // @ts-expect-error: dynamic\n        .filter(filteringFunctions[filtering])\n        .sort(sortingFunctions[sorting])\n    );\n  },\n});\n","export const scrollToId = (id: string, delay = 100) => setTimeout(() => document.getElementById(id)?.scrollIntoView({ behavior: \"smooth\", block: \"center\" }), delay);\n","import { Detail } from \"components/Detail/Detail\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { useRecoilValue } from \"recoil\";\nimport { allTeasState } from \"states/teas\";\nimport { scrollToId } from \"utils/scrollTo\";\nimport \"./Detail.scss\";\n\n// const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms))\n\nexport const Error = ({ slug }: any) => {\n  return (\n    <>\n      <h1>error</h1>\n      <h1>{slug}</h1>\n    </>\n  );\n};\n\nexport const Skeleton = () => {\n  return <div className=\"skeleton\"></div>;\n};\n\nexport const DetailDrawer = () => {\n  const allTeas = useRecoilValue(allTeasState);\n  const [params, setParams] = useSearchParams();\n  const detailSlug = params.get(\"detail\");\n\n  if (!detailSlug) return null;\n  const tea = allTeas.find((t) => t.slug === detailSlug);\n  if (!tea) return null;\n\n  const classes = `drawer ${detailSlug ? \"open\" : \"closed\"}`;\n\n  const resetSelected = () => {\n    scrollToId(detailSlug);\n    setParams({});\n  };\n\n  return (\n    <aside className={classes} id=\"drawer\">\n      <button className=\"DetailButton Close\" onClick={resetSelected}>\n        <span className=\"value\">&times;</span>\n      </button>\n      <Detail tea={tea} />\n    </aside>\n  );\n};\n","import { atom } from 'recoil';\n\nexport const selectedSlugState = atom({\n  key: 'selectedSlug',\n  default: '',\n});\n","import { useRecoilState } from \"recoil\";\nimport { selectedSlugState } from \"../states/selectedSlug\";\nimport { TeaProduct } from \"../types/TeaProduct\";\nimport { useHotkeys } from \"react-hotkeys-hook\";\n\nexport const getDirection = (\n  direction: string,\n  slug: string,\n  teas: TeaProduct[]\n): string => {\n  if (!slug) return teas[0].slug;\n  const i = teas.findIndex((t) => t.slug === slug);\n  const col = 3;\n  switch (direction) {\n    case \"left\":\n      return teas[i - 1]?.slug || teas[teas.length - 1].slug;\n    case \"right\":\n      return teas[i + 1]?.slug || teas[0].slug;\n    case \"up\":\n      return teas[i - col]?.slug || teas[teas.length - 1].slug;\n    case \"down\":\n      return teas[i + col]?.slug || teas[0].slug;\n    default:\n      return slug;\n  }\n};\n\nexport function useKeyboardNavigation(teas: TeaProduct[]) {\n  const [selectedSlug, setSelectedSlug] = useRecoilState(selectedSlugState);\n  useHotkeys(\n    \"left\",\n    () => setSelectedSlug(getDirection(\"left\", selectedSlug, teas)),\n    [selectedSlug, teas]\n  );\n  useHotkeys(\n    \"right\",\n    () => setSelectedSlug(getDirection(\"right\", selectedSlug, teas)),\n    [selectedSlug, teas]\n  );\n  useHotkeys(\n    \"up\",\n    () => setSelectedSlug(getDirection(\"up\", selectedSlug, teas)),\n    [selectedSlug, teas]\n  );\n  useHotkeys(\n    \"down\",\n    () => setSelectedSlug(getDirection(\"down\", selectedSlug, teas)),\n    [selectedSlug, teas]\n  );\n}\n","import { getImageUrl, ImageSubject, TeaProduct } from \"types/TeaProduct\";\nimport { Image } from \"./Image\";\nimport \"./Card.scss\";\nimport { useSearchParams } from \"react-router-dom\";\n\nexport type Props = {\n  tea: TeaProduct;\n  subject: ImageSubject;\n};\n\nexport const Card = ({ tea, subject }: Props) => {\n  const [params, setParams] = useSearchParams();\n  const detailSlug = params.get(\"detail\");\n\n  const { year, name, slug } = tea;\n  const setSelected = () =>\n    setParams({\n      detail: slug,\n    });\n\n  const imageUrl = tea.images[subject];\n  const size = 400;\n\n  const isSelected = detailSlug === slug;\n  const classes = `TeaCard ${isSelected ? \"selected\" : \"\"}`;\n\n  return (\n    <figure className={classes} onClick={setSelected} id={slug}>\n      <div className=\"content\">\n        <div className=\"icon\"></div>\n        <h3 className=\"year glow\">{year}</h3>\n        <h2 className=\"name\">{name}</h2>\n        <Image\n          src={getImageUrl(imageUrl || \"\", size)}\n          alt={name}\n          width={size}\n          height={size}\n        />\n      </div>\n    </figure>\n  );\n};\n","import { Card } from \"components/TeaProduct/Card\";\nimport { useParams } from \"react-router-dom\";\nimport { useRecoilValue } from \"recoil\";\nimport { teasState } from \"states/teas\";\nimport { ImageSubject } from \"types/TeaProduct\";\nimport \"./Cards.scss\";\n\nexport const Cards = () => {\n  const { subject } = useParams();\n  const teas = useRecoilValue(teasState);\n\n  const $Teas = teas.map((tea) => (\n    <Card\n      key={tea.slug}\n      tea={tea}\n      subject={(subject as ImageSubject) || \"wrapperTop\"}\n    />\n  ));\n  return <section className=\"TeaCards\">{$Teas}</section>;\n};\n","import { useSearchParams } from \"react-router-dom\";\nimport { TeaProduct } from \"types/TeaProduct\";\nimport \"./ListRow.scss\";\n\nexport const ListRow = ({ tea }: { tea: TeaProduct }) => {\n  const [params, setParams] = useSearchParams();\n\n  const { year, name, style, slug } = tea;\n  const detailSlug = params.get(\"detail\");\n\n  const setSelected = () =>\n    setParams({\n      detail: slug,\n    });\n\n  const isSelected = detailSlug === slug;\n  const classes = `ListText ${isSelected ? \"selected glow\" : \"\"}`;\n\n  return (\n    <tr className={classes} onClick={setSelected} id={slug}>\n      <td className=\"year\">{year} </td>\n      <td className=\"name\">{name} </td>\n      <td className=\"style\"> {style}</td>\n    </tr>\n  );\n};\n","import { useRecoilValue } from \"recoil\";\nimport { teasState } from \"states/teas\";\nimport { ListRow } from \"components/TeaProduct/ListRow\";\nimport \"./List.scss\";\n\nexport const List = () => {\n  const teas = useRecoilValue(teasState);\n\n  return (\n    <table className=\"List\">\n      <tbody>\n        {teas.map((t) => (\n          <ListRow key={t.slug} tea={t} />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n","import { useSearchParams } from \"react-router-dom\";\nimport { getImageUrl, ImageSubject, TeaProduct } from \"types/TeaProduct\";\nimport \"./Slice.scss\";\n\ninterface TeaSliceProps {\n  tea: TeaProduct;\n  subject: ImageSubject;\n}\n\nexport const Slice = ({ tea, subject }: TeaSliceProps) => {\n  const [params, setParams] = useSearchParams();\n  const detailSlug = params.get(\"detail\");\n\n  const { year, name, slug } = tea;\n  const setSelected = () =>\n    setParams({\n      detail: slug,\n    });\n\n  const imageUrl = tea.images[subject];\n  const size = 400;\n\n  const isSelected = detailSlug === slug;\n  const classes = `TeaSliceWrapper ${\n    isSelected ? \"selected\" : \"\"\n  } ${subject} ${size}`;\n\n  return (\n    <span className={classes} onClick={setSelected} id={slug}>\n      {imageUrl && (\n        <img\n          src={getImageUrl(imageUrl, size)}\n          alt={name}\n          width={size}\n          height={size}\n          className=\"TeaSlice\"\n          loading=\"lazy\"\n        />\n      )}\n      <div className=\"TeaSliceInfoWrapper\">\n        <div className=\"TeaSliceInfo glow\">\n          <span>{year}</span>\n          <span>{name}</span>\n        </div>\n      </div>\n    </span>\n  );\n};\n\n","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useRecoilValue } from \"recoil\";\nimport { teasState } from \"states/teas\";\nimport { ImageSubject } from \"types/TeaProduct\";\nimport { Slice } from \"components/TeaProduct/Slice\";\nimport \"./Slices.scss\";\n\nexport const Slices = () => {\n  const teas = useRecoilValue(teasState);\n  const params = useParams();\n  const subject = params.subject as ImageSubject;\n\n  const defaultFilters = getDefaultFilters(subject);\n  const [filteredSizes, setFilteredSizes] = useState(defaultFilters);\n\n  useEffect(() => {\n    setFilteredSizes(getDefaultFilters(subject));\n  }, [subject]);\n\n  const toggle = (size: any) => ({\n    ...filteredSizes,\n    [size]: !filteredSizes[size] as boolean,\n  });\n\n  const Filters = Object.keys(defaultFilters).map((size) => (\n    <button\n      key={size}\n      className={`button toggle ${filteredSizes[size] ? \"checked\" : \"\"}`}\n      onClick={() => setFilteredSizes(toggle(size))}\n    >\n      {size}\n    </button>\n  ));\n\n  const TeaSlices = teas\n    .filter((t) => filteredSizes[t.size])\n    .map((t) => <Slice key={t.slug} tea={t} subject={subject} />);\n\n  return (\n    <>\n      <nav className=\"TeaSliceFilters\">{Filters}</nav>\n      <div className=\"TeaSlices\">{TeaSlices}</div>\n    </>\n  );\n};\n\nexport const getDefaultFilters = (subject: ImageSubject) =>\n  ({\n    cake: true,\n    brick: true,\n    mini: subject === \"wrapperTop\" ? false : true,\n    bamboo: subject === \"wrapperTop\" ? false : true,\n    unknown: subject === \"soup\" ? true : false,\n    // brick: subject === \"wrapperTop\" ? false : true,\n    // mini: subject === \"wrapperTop\" ? false : true,\n  } as any);\n","export const scrollTop = (id: string, offset = 0) => {\n  const elem = document.getElementById(id);\n  if (elem) elem.scrollTop = offset;\n};\n","import { Nav } from \"components/Nav\";\nimport { DetailDrawer } from \"routes/DetailDrawer\";\nimport { useEffect } from \"react\";\nimport { useRecoilValue } from \"recoil\";\nimport { sortingState } from \"states/sorting\";\nimport { teaStyleFilteringState } from \"states/teaStyleFiltering\";\n\nimport \"./App.scss\";\nimport { useKeyboardNavigation } from \"hooks/useKeyboardNavigation\";\nimport {\n  Routes,\n  Route,\n  Navigate,\n  useSearchParams,\n  Outlet,\n  useLocation,\n} from \"react-router-dom\";\nimport { Cards } from \"routes/Cards\";\nimport { List } from \"routes/List\";\nimport { Slices } from \"routes/Slices\";\nimport { teasState } from \"states/teas\";\nimport { scrollToId } from \"utils/scrollTo\";\nimport { scrollTop } from \"utils/scrollTop\";\n\nconsole.log(`msg: ${process.env.REACT_APP_GIT_MSG}`);\n\nfunction App() {\n  const sorting = useRecoilValue(sortingState);\n  const filtering = useRecoilValue(teaStyleFilteringState);\n  const teas = useRecoilValue(teasState);\n  const [params] = useSearchParams();\n  const location = useLocation();\n\n  const detail = params.get(\"detail\") || \"\";\n\n  useEffect(() => {\n    const state = {\n      sorting,\n      filtering,\n    };\n    const json = JSON.stringify(state);\n    localStorage.setItem(\"state\", json);\n  }, [sorting, filtering]);\n\n  useEffect(() => {\n    scrollTop(\"drawer\");\n    if (detail) {\n      scrollToId(detail, 80);\n    } else {\n      scrollTop(\"main\");\n    }\n  }, [sorting, filtering, detail, location.pathname]);\n\n  useKeyboardNavigation(teas);\n\n  return (\n    <div className=\"app\">\n      <Routes>\n        <Route path=\"/\" element={<Main />}>\n          <Route path=\"cards/:subject\" element={<Cards />} />\n          <Route path=\"slices/:subject\" element={<Slices />} />\n          <Route path=\"list/:subject\" element={<List />} />\n          <Route index element={<Navigate to=\"/cards/wrapperTop\" />} />\n          <Route path=\"*\" element={<Navigate to=\"cards/wrapperTop\" />} />\n        </Route>\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n\nconst Main = () => {\n  const [params] = useSearchParams();\n  const detail = params.get(\"detail\") || \"\";\n  return (\n    <>\n      <Nav />\n      <main id=\"main\" className={detail ? \"detail--open\" : \"\"}>\n        <Outlet />\n      </main>\n      <DetailDrawer />\n    </>\n  );\n};\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { RecoilRoot } from \"recoil\";\nimport App from \"./App\";\nimport \"./index.scss\";\nimport reportWebVitals from \"./utils/reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <RecoilRoot>\n      <BrowserRouter basename=\"/w2tv\">\n        <App />\n      </BrowserRouter>\n    </RecoilRoot>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}