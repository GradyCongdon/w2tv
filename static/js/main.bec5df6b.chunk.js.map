{"version":3,"sources":["states/layout.ts","utils/capitalize.ts","components/Selectors/Layout.tsx","states/teaStyleFiltering.ts","components/Selectors/Filtering.tsx","states/sorting.ts","components/Selectors/Sorting.tsx","components/Toggle.tsx","states/whiteBalanced.ts","components/Selectors/Subject.tsx","components/Divider.tsx","components/Heading.tsx","components/Nav.tsx","types/TeaProduct.ts","components/TeaProduct/Image.tsx","components/Detail/Description.tsx","components/Detail/LinkButton.tsx","components/Detail/Offer.tsx","components/Detail/Form.tsx","components/Detail/Detail.tsx","states/teas.ts","utils/scrollTo.ts","routes/DetailDrawer.tsx","states/selectedSlug.ts","hooks/useKeyboardNavigation.tsx","components/TeaProduct/Card.tsx","routes/Cards.tsx","components/TeaProduct/ListRow.tsx","routes/List.tsx","components/TeaProduct/Slice.tsx","routes/Slices.tsx","App.tsx","index.tsx"],"names":["layouts","capitalize","atom","key","default","str","toUpperCase","slice","toLowerCase","Selector","layout","subject","useParams","location","useLocation","newLocation","pathname","search","className","to","LayoutSelector","map","l","teaStyleFilteringState","isStyle","s","x","style","filteringFunctions","all","raw","ripe","white","black","oolong","Button","filtering","useRecoilState","currentFitlering","set","disabled","onClick","FilteringSelector","$Buttons","Object","keys","sortings","sortingState","getName","name","replace","nameAsc","a","b","localeCompare","year","maxDPG","Math","max","forms","dpg","sortingFunctions","Label","value","icon","getIcon","sorting","currentSorting","setSorting","SortingSelector","props","Toggle","label","classes","whiteBalancedState","WhiteBalance","isWhiteBalanced","setIsWhiteBalanced","currentSubject","newSubjectLocation","SubjectSelector","Divider","Heading","children","window","scrollTo","top","behavior","Nav","getImageUrl","url","size","Image","src","alt","width","height","Description","description","lines","target","source","regex","RegExp","glowTitle","replaceWithGlowHtml","glowText","split","html","shift","join","dangerouslySetInnerHTML","__html","LinkButton","href","OfferHeading","Form","form","inStock","price","mass","parseInt","tilde","startsWith","textDecoration","color","nan","Number","isNaN","$size","$price","toFixed","$ppg","Detail","tea","imageUrl","images","wrapperTop","thumbnailUrl","fullName","f","allTeasState","teaProducts","teasState","selector","get","filter","sort","scrollToId","id","delay","setTimeout","document","getElementById","scrollIntoView","block","DetailDrawer","allTeas","useRecoilValue","useSearchParams","params","setParams","detailSlug","find","t","slug","selectedSlugState","getDirection","direction","teas","i","findIndex","length","Card","detail","Cards","$Teas","ListRow","List","Slice","getDefaultFilters","view","cake","brick","square","mini","ball","bamboo","Slices","defaultFilters","useState","filteredSizes","setFilteredSizes","useEffect","Filters","toggle","TeaSlices","console","log","process","App","state","json","JSON","stringify","localStorage","setItem","selectedSlug","setSelectedSlug","useHotkeys","useKeyboardNavigation","path","element","Main","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.bec5df6b.chunk.js","sourcesContent":["import { atom } from \"recoil\";\n\nexport type Layout = \"cards\" | \"list\" | \"slices\";\n\nexport const layouts: Layout[] = [\"cards\", \"slices\", \"list\"];\n\nexport const layoutState = atom({\n  key: \"layout\",\n  default: \"cards\" as Layout,\n});\n","export const capitalize = (str: string) => str[0].toUpperCase() + str.slice(1).toLowerCase();","import { NavLink, useLocation, useParams } from \"react-router-dom\";\nimport { Layout, layouts } from \"states/layout\";\nimport { capitalize } from \"utils/capitalize\";\n\nexport const Selector = ({ layout }: { layout: Layout }) => {\n  const { subject } = useParams();\n  const location = useLocation();\n\n  const newLocation = {\n    pathname: `${layout}/${subject}`,\n    search: location.search,\n  };\n  return (\n    <NavLink className=\"button radio button--layout\" to={newLocation}>\n      <span className=\"label\">{capitalize(layout)}</span>\n    </NavLink>\n  );\n};\n\nexport const LayoutSelector = () => (\n  <>\n    {layouts.map((l) => (\n      <Selector key={l} layout={l} />\n    ))}\n  </>\n);\n","import { atom } from \"recoil\";\nimport { TeaProduct, Style } from \"types/TeaProduct\";\n\nexport type TeaStyleFiltering = \"all\" | Style;\n\nexport const teaStyleFilteringState = atom({\n  key: \"teaStyleFilter\",\n  default: \"all\" as TeaStyleFiltering,\n});\n\nconst isStyle = (s: TeaStyleFiltering) => (x: TeaProduct) => x.style === s;\nconst identity = (x: TeaProduct) => true;\n\ntype TeaStyleFilteringMap = {\n  // TODO make non-optional\n  [key in TeaStyleFiltering]?: (a: TeaProduct) => boolean;\n};\n\nexport const filteringFunctions: TeaStyleFilteringMap = {\n  all: identity,\n  raw: isStyle(\"raw\"),\n  ripe: isStyle(\"ripe\"),\n  white: isStyle(\"white\"),\n  black: isStyle(\"black\"),\n  oolong: isStyle(\"oolong\"),\n  // TODO add data, then re-enable\n  // 'green': isStyle(TeaStyle.Green),\n  // 'unknown': isStyle(TeaStyle.Unknown),\n};\n","import { useRecoilState } from \"recoil\";\nimport {\n  filteringFunctions,\n  TeaStyleFiltering,\n  teaStyleFilteringState,\n} from \"states/teaStyleFiltering\";\n\nexport const Button = ({ filtering }: { filtering: TeaStyleFiltering }) => {\n  const [currentFitlering, set] = useRecoilState(teaStyleFilteringState);\n  return (\n    <button\n      className=\"button radio button--filter\"\n      disabled={filtering === currentFitlering}\n      onClick={() => set(filtering)}\n    >\n      {filtering}\n    </button>\n  );\n};\n\nexport const FilteringSelector = () => {\n  const $Buttons = Object.keys(filteringFunctions).map((key) => (\n    <Button filtering={key as TeaStyleFiltering} key={key} />\n  ));\n  return <>{$Buttons}</>;\n};\n","import { atom } from \"recoil\";\nimport { TeaProduct } from \"types/TeaProduct\";\n\nexport type Sorting = \"-year\" | \"+year\" | \"+name\" | \"-name\" | \"+cost\" | \"-cost\";\nexport const sortings: Sorting[] = [\n  \"-year\",\n  \"+year\",\n  \"-name\",\n  \"+name\",\n  \"-cost\",\n  \"+cost\",\n];\n\nexport const sortingState = atom({\n  key: \"sorting\",\n  default: \"-year\" as Sorting,\n});\n\nconst getName = (x: TeaProduct) => x.name.replace(\"The \", \"\");\n\nconst nameDesc = (a: TeaProduct, b: TeaProduct) =>\n  getName(b).localeCompare(getName(a)) || b.year - a.year;\nconst nameAsc = (a: TeaProduct, b: TeaProduct) =>\n  getName(a).localeCompare(getName(b)) || a.year - b.year;\n\nconst yearDesc = (a: TeaProduct, b: TeaProduct) =>\n  b.year - a.year || nameAsc(a, b);\nconst yearAsc = (a: TeaProduct, b: TeaProduct) =>\n  a.year - b.year || nameAsc(a, b);\n\nconst maxDPG = (x: TeaProduct): number =>\n  Math.max(...x.forms.map((x) => x.dpg));\n\nconst costDesc = (a: TeaProduct, b: TeaProduct) =>\n  maxDPG(b) - maxDPG(a) || nameAsc(a, b);\nconst costAsc = (a: TeaProduct, b: TeaProduct) =>\n  maxDPG(a) - maxDPG(b) || nameAsc(a, b);\n\ntype SortingFunctionMap = {\n  [key in Sorting]: (a: TeaProduct, b: TeaProduct) => number;\n};\n\nexport const sortingFunctions: SortingFunctionMap = {\n  \"-year\": yearDesc,\n  \"+year\": yearAsc,\n  \"-name\": nameDesc,\n  \"+name\": nameAsc,\n  \"-cost\": costDesc,\n  \"+cost\": costAsc,\n};\n","import { useRecoilState } from \"recoil\";\nimport { Sorting, sortings, sortingState } from \"states/sorting\";\n\nconst getIcon = (value: string) => {\n  switch (value[0]) {\n    case \"+\": {\n      // return 'â¬ˆ';\n      return \"+\";\n    }\n    case \"-\": {\n      // return 'â¬Š';\n      return \"-\";\n    }\n    default: {\n      return \"?\";\n    }\n  }\n};\n\nconst Label = ({ value }: any) => {\n  const icon = getIcon(value);\n  return (\n    <span className=\"label\">\n      <span className=\"text\">{value.slice(1)}</span>\n      &nbsp;\n      <span className=\"icon--plain\">{icon}</span>\n    </span>\n  );\n};\n\nexport const Button = ({ sorting }: { sorting: Sorting }) => {\n  const [currentSorting, setSorting] = useRecoilState(sortingState);\n  return (\n    <button\n      className=\"button radio button--sort\"\n      disabled={sorting === currentSorting}\n      onClick={() => setSorting(sorting)}\n    >\n      <Label value={sorting} />\n    </button>\n  );\n};\n\nexport const SortingSelector = (props: any) => {\n  const $Buttons = sortings.map((s) => <Button sorting={s} key={s} />);\n  return <>{$Buttons}</>;\n};\n","import { Dispatch, SetStateAction } from \"react\";\n\ninterface ToggleProps {\n  value: boolean;\n  set: Dispatch<SetStateAction<boolean>>;\n  label: string;\n  classes?: string;\n}\n\nexport const Toggle = ({ value, label, set, classes = '' }: ToggleProps) => (\n  <button\n    className={`button toggle ${value ? 'checked' : ''} ${classes}`}\n    onClick={() => set(!value)}\n  >\n    {label}\n  </button>\n);\n","import { atom } from 'recoil';\n\nexport const whiteBalancedState = atom({\n  key: 'whiteBalanced',\n  default: true,\n});\n","import {\n  Link,\n  NavLink,\n  useLocation,\n  useParams,\n  useResolvedPath,\n} from \"react-router-dom\";\nimport { useRecoilState } from \"recoil\";\nimport { Toggle } from \"components/Toggle\";\nimport { whiteBalancedState } from \"states/whiteBalanced\";\nimport { ImageSubject } from \"types/TeaProduct\";\nimport { capitalize } from \"utils/capitalize\";\nimport \"./Subject.scss\";\n\nconst WhiteBalance = () => {\n  const [isWhiteBalanced, setIsWhiteBalanced] =\n    useRecoilState(whiteBalancedState);\n  return (\n    <Toggle\n      value={isWhiteBalanced}\n      set={setIsWhiteBalanced}\n      label=\"wb\"\n      classes=\"WhiteBalance\"\n    />\n  );\n};\n\nconst label = (subject: ImageSubject) => capitalize(subject[0]);\n\nconst Button = ({ subject }: { subject: ImageSubject }) => {\n  const { subject: currentSubject } = useParams();\n  const location = useLocation();\n\n  const newSubjectLocation = currentSubject\n    ? {\n        pathname: location.pathname.replace(currentSubject, subject),\n        search: location.search,\n      }\n    : \"/\";\n  return (\n    <NavLink\n      className={`button radio button--subject `}\n      to={newSubjectLocation}\n      // disabled={currentSubject === subject}\n    >\n      {label(subject)}\n    </NavLink>\n  );\n};\n\nexport const SubjectSelector = () => {\n  const { subject: currentSubject } = useParams();\n  return (\n    <nav className={`subject-selector global`}>\n      <Button subject=\"wrapperTop\" />\n      <Button subject=\"teaTop\" />\n      <div className={`subject--white-balanced ${currentSubject}`}>\n        <WhiteBalance />\n        <Button subject=\"soup\" />\n      </div>\n    </nav>\n  );\n};\n","export const Divider = () => (\n  <>\n    <br />\n    <br />\n  </>\n);\n","export const Heading = ({ children }: any) => (\n  <h1 className=\"heading\" onClick={() => window.scrollTo({ top: 0, behavior: 'smooth' })}>{children}</h1>\n);\n","import { LayoutSelector } from \"components/Selectors/Layout\";\nimport { FilteringSelector } from \"components/Selectors/Filtering\";\nimport { SortingSelector } from \"components/Selectors/Sorting\";\nimport { SubjectSelector } from \"components/Selectors/Subject\";\nimport { Divider } from \"components/Divider\";\nimport { Heading } from \"components/Heading\";\n\nexport const Nav = () => (\n  <aside className=\"controls--global\">\n    <Heading>w2tv</Heading>\n    <SubjectSelector />\n    <LayoutSelector />\n    <Divider />\n    <SortingSelector />\n    <Divider />\n    <FilteringSelector />\n    <Divider />\n  </aside>\n);\n","export type Style =\n  | \"white\"\n  | \"green\"\n  | \"black\"\n  | \"hongcha\"\n  | \"raw\"\n  | \"ripe\"\n  | \"oolong\"\n  | \"huangpian\"\n  | \"unknown\";\n\nexport type Size =\n  | \"cake\"\n  | \"mini\"\n  | \"bamboo\"\n  | \"square\"\n  | \"brick\"\n  | \"ball\"\n  | \"sample\"\n  | \"unknown\";\n\nexport type ImageSubject =\n  | \"leaf\"\n  | \"soup\"\n  | \"teaBottom\"\n  | \"teaDetail\"\n  | \"teaTop\"\n  | \"tong\"\n  | \"chabu\"\n  | \"shirt\"\n  | \"wrapperBottom\"\n  | \"wrapperDetail\"\n  | \"wrapperTop\";\n\nexport const getImageUrl = (url: string, size: number): string =>\n  url.replace(\"SIZEx\", `${size}x`);\n\nexport type Images = Partial<Record<ImageSubject, string>>;\n\nexport interface Percentile {\n  size: number;\n  type: number;\n  typeSize: number;\n  all: number;\n  dpg: number;\n}\n\nexport interface Form {\n  name: string;\n  price: number;\n  inStock: boolean;\n  grams: number;\n  dpg: number;\n  size: Size;\n  percentiles: Percentile;\n}\n\n// export enum FormName {\n//   Name7G = \"7g\",\n//   The100G = \"100g\",\n//   The10G = \"10g\",\n//   The120G = \"120g\",\n//   The1Kg = \"1kg\",\n//   The200G = \"200g\",\n//   The250G = \"250g\",\n//   The250GBrickTuoCake = \"250g Brick/Tuo/Cake\",\n//   The25G = \"25g\",\n//   The25GSample = \"25g Sample\",\n//   The357G = \"357g\",\n//   The357GCake = \"357g Cake\",\n//   The360G = \"360g\",\n//   The49G = \"~49g\",\n//   The49GStack = \"49g Stack\",\n//   The50G = \"~50g\",\n//   The7G = \"~7g\",\n//   The7GMini = \"7g Mini\",\n//   The80G = \"80g\",\n// }\n\nexport interface TeaProduct {\n  slug: string;\n  name: string;\n  year: number;\n  quantity: number;\n  description: string;\n  url: string;\n  thumbnailUrl: string;\n  version: string;\n  style: Style;\n  size: Size;\n  images: Images;\n  forms: Form[];\n  tags: string[];\n}\n","import \"./Image.scss\";\n\ninterface Props {\n  src: string;\n  alt: string;\n  width: number | string;\n  height: number | string;\n}\nexport const Image = ({ src, alt, width, height }: Props) => {\n  if (!src) {\n    return (\n      <div className=\"TeaImage placeholder responsive\">\n        <div className=\"circle\"></div>\n      </div>\n    );\n  }\n  return (\n    <img\n      src={src}\n      alt={alt}\n      width={width}\n      height={height}\n      className=\"TeaImage responsive\"\n    />\n  );\n};\n","export function replaceWithGlowHtml(target: string, source: string) {\n  const regex = new RegExp(target, \"g\");\n  const glowTitle = `<span class=\"glow\">${target}</span>`;\n  const descriptionGlow = source.replace(regex, glowTitle);\n  return descriptionGlow;\n}\ntype Props = {\n  description: string;\n  glowText: string;\n};\n\nexport const Description = ({ description, glowText }: Props) => {\n  const descriptionGlow = replaceWithGlowHtml(glowText, description);\n  const lines = descriptionGlow.split(\".\");\n  const html = `\n<p>\n  ${lines.shift()}.\n</p>\n<p>\n  ${lines.join(\". \")}\n</p>\n  `;\n  return (\n    <div className=\"description\" dangerouslySetInnerHTML={{ __html: html }} />\n  );\n};\n","export const LinkButton = ({ url }: { url: string }) => {\n  return (\n    <a className=\"DetailButton Link\" href={url}>\n      <span className=\"value\">ðŸ”—</span>\n    </a>\n  );\n};\n","import { OfferOembed } from \"types/Oembed\";\n\ntype OfferProps = {\n  offer: OfferOembed;\n};\n\nexport const Offer = ({ offer }: OfferProps) => {\n  const { title, price, in_stock } = offer;\n  let mass = parseInt(title.replace(/\\D/g, \"\"), 10);\n  if (mass === 1) mass = 1000;\n  const tilde = title.startsWith(\"~\") ? \"~\" : \"\";\n\n  const style = {\n    textDecoration: in_stock ? \"none\" : \"line-through\",\n    color: in_stock ? \"inherit\" : \"var(--grey-medium)\",\n  };\n\n  const nan = Number.isNaN(mass);\n  const $size = nan ? \"?\" : `${tilde} ${mass}`;\n  const $price = price.toFixed(2);\n  const $ppg = nan ? \"?\" : (price / mass).toFixed(2);\n\n  return (\n    <div style={style} className=\"Offer table\">\n      <h2>{$size}g</h2>\n      <h3>${$price}</h3>\n      <h4>${$ppg}</h4>\n    </div>\n  );\n};\n\nexport const OfferHeading = () => (\n  <div className=\"OfferHeading table\">\n    <span>Size</span>\n    <span>Price</span>\n    <span>$ / g</span>\n  </div>\n);\n","import * as TeaProduct from \"types/TeaProduct\";\nimport \"./Offer.scss\";\n\ntype Props = {\n  form: TeaProduct.Form;\n};\n\nexport const Form = ({ form }: Props) => {\n  const { name, inStock, price } = form;\n  let mass = parseInt(name.replace(/\\D/g, \"\"), 10);\n\n  if (mass === 1) mass = 1000;\n  const tilde = name.startsWith(\"~\") ? \"~\" : \"\";\n\n  const style = {\n    textDecoration: inStock ? \"none\" : \"line-through\",\n    color: inStock ? \"inherit\" : \"var(--grey-medium)\",\n  };\n\n  const nan = Number.isNaN(mass);\n  const $size = nan ? \"?\" : `${tilde} ${mass}`;\n  const $price = price.toFixed(2);\n  const $ppg = nan ? \"?\" : (price / mass).toFixed(2);\n\n  return (\n    <div style={style} className=\"Offer table\">\n      <h2>{$size}g</h2>\n      <h3>${$price}</h3>\n      <h4>${$ppg}</h4>\n    </div>\n  );\n};\n","import { getImageUrl, TeaProduct } from \"types/TeaProduct\";\nimport { Image } from \"components/TeaProduct/Image\";\nimport { Description } from \"./Description\";\nimport { LinkButton } from \"./LinkButton\";\nimport { OfferHeading } from \"./Offer\";\nimport \"./Detail.scss\";\nimport { Form } from \"./Form\";\n\ntype Props = {\n  tea: TeaProduct;\n};\n\nexport const Detail = ({ tea }: Props) => {\n  const { year, name, description, url, forms } = tea;\n  const size = 400;\n  const imageUrl = getImageUrl(tea.images.wrapperTop || tea.thumbnailUrl, size);\n  const fullName = `${year} ${name}`;\n\n  return (\n    <article className=\"TeaDetail\">\n      <h1 className=\"title glow\">{fullName}</h1>\n      <Image src={imageUrl} alt={name} width={size} height={size} />\n      <OfferHeading />\n      {forms.map((f) => (\n        <Form key={f.name} form={f} />\n      ))}\n      <Description glowText={fullName} description={description} />\n      <LinkButton url={url} />\n    </article>\n  );\n};\n","import { atom, selector } from \"recoil\";\nimport { TeaProduct } from \"types/TeaProduct\";\n\nimport teaProducts from \"teaProducts.json\";\nimport {\n  filteringFunctions,\n  teaStyleFilteringState,\n} from \"./teaStyleFiltering\";\nimport { sortingFunctions, sortingState } from \"./sorting\";\n// const stored = JSON.parse(localStorage.getItem(\"subjects\") || \"\");\n\nexport const allTeasState = atom({\n  key: \"allTeas\",\n  default: teaProducts as TeaProduct[],\n});\n\nexport const teasState = selector({\n  key: \"teas\",\n  get: ({ get }) => {\n    const all = get(allTeasState);\n    const filtering = get(teaStyleFilteringState);\n    const sorting = get(sortingState);\n\n    return (\n      all\n        // @ts-expect-error: dynamic\n        .filter(filteringFunctions[filtering])\n        .sort(sortingFunctions[sorting])\n    );\n  },\n});\n","export const scrollToId = (id: string, delay = 100) => setTimeout(() => document.getElementById(id)?.scrollIntoView({ behavior: \"smooth\", block: \"center\" }), delay);\n","import { Detail } from \"components/Detail/Detail\";\nimport { useSearchParams } from \"react-router-dom\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { selectedSlugState } from \"states/selectedSlug\";\nimport { allTeasState, teasState } from \"states/teas\";\nimport { TeaOembed } from \"types/Oembed\";\nimport { scrollToId } from \"utils/scrollTo\";\n\nimport \"./Detail.scss\";\n\n// const delay = (ms: number) => new Promise(resolve => setTimeout(resolve, ms))\n\nexport const Error = ({ slug }: any) => {\n  return (\n    <>\n      <h1>error</h1>\n      <h1>{slug}</h1>\n    </>\n  );\n};\n\nexport const Skeleton = () => {\n  return <div className=\"skeleton\"></div>;\n};\n\nexport const DetailDrawer = () => {\n  const allTeas = useRecoilValue(allTeasState);\n  const [params, setParams] = useSearchParams();\n  const detailSlug = params.get(\"detail\");\n\n  if (!detailSlug) return null;\n  const tea = allTeas.find((t) => t.slug === detailSlug);\n  if (!tea) return null;\n\n  const classes = `drawer ${detailSlug ? \"open\" : \"closed\"}`;\n\n  const resetSelected = () => {\n    scrollToId(detailSlug);\n    setParams({});\n  };\n\n  return (\n    <aside className={classes}>\n      <button className=\"DetailButton Close\" onClick={resetSelected}>\n        <span className=\"value\">&times;</span>\n      </button>\n      <Detail tea={tea} />\n    </aside>\n  );\n};\n","import { atom } from 'recoil';\n\nexport const selectedSlugState = atom({\n  key: 'selectedSlug',\n  default: '',\n});\n","import { useRecoilState } from \"recoil\";\nimport { selectedSlugState } from \"../states/selectedSlug\";\nimport { TeaProduct } from \"../types/TeaProduct\";\nimport { useHotkeys } from \"react-hotkeys-hook\";\n\nexport const getDirection = (\n  direction: string,\n  slug: string,\n  teas: TeaProduct[]\n): string => {\n  if (!slug) return teas[0].slug;\n  const i = teas.findIndex((t) => t.slug === slug);\n  const col = 3;\n  switch (direction) {\n    case \"left\":\n      return teas[i - 1]?.slug || teas[teas.length - 1].slug;\n    case \"right\":\n      return teas[i + 1]?.slug || teas[0].slug;\n    case \"up\":\n      return teas[i - col]?.slug || teas[teas.length - 1].slug;\n    case \"down\":\n      return teas[i + col]?.slug || teas[0].slug;\n    default:\n      return slug;\n  }\n};\n\nexport function useKeyboardNavigation(teas: TeaProduct[]) {\n  const [selectedSlug, setSelectedSlug] = useRecoilState(selectedSlugState);\n  useHotkeys(\n    \"left\",\n    () => setSelectedSlug(getDirection(\"left\", selectedSlug, teas)),\n    [selectedSlug, teas]\n  );\n  useHotkeys(\n    \"right\",\n    () => setSelectedSlug(getDirection(\"right\", selectedSlug, teas)),\n    [selectedSlug, teas]\n  );\n  useHotkeys(\n    \"up\",\n    () => setSelectedSlug(getDirection(\"up\", selectedSlug, teas)),\n    [selectedSlug, teas]\n  );\n  useHotkeys(\n    \"down\",\n    () => setSelectedSlug(getDirection(\"down\", selectedSlug, teas)),\n    [selectedSlug, teas]\n  );\n}\n","import { getImageUrl, ImageSubject, TeaProduct } from \"types/TeaProduct\";\nimport { Image } from \"./Image\";\nimport \"./Card.scss\";\nimport { useSearchParams } from \"react-router-dom\";\n\nexport type Props = {\n  tea: TeaProduct;\n  subject: ImageSubject;\n};\n\nexport const Card = ({ tea, subject }: Props) => {\n  const [params, setParams] = useSearchParams();\n  const detailSlug = params.get(\"detail\");\n\n  const { year, name, slug } = tea;\n  const setSelected = () =>\n    setParams({\n      detail: slug,\n    });\n\n  const imageUrl = tea.images[subject];\n  const size = 400;\n\n  const isSelected = detailSlug === slug;\n  const classes = `TeaCard ${isSelected ? \"selected\" : \"\"}`;\n\n  return (\n    <figure className={classes} onClick={setSelected} id={slug}>\n      <div className=\"content\">\n        <div className=\"icon\"></div>\n        <h3 className=\"year glow\">{year}</h3>\n        <h2 className=\"name\">{name}</h2>\n        <Image\n          src={getImageUrl(imageUrl || \"\", size)}\n          alt={name}\n          width={size}\n          height={size}\n        />\n      </div>\n    </figure>\n  );\n};\n","import { Card } from \"components/TeaProduct/Card\";\nimport { useParams } from \"react-router-dom\";\nimport { useRecoilValue } from \"recoil\";\nimport { teasState } from \"states/teas\";\nimport { ImageSubject } from \"types/TeaProduct\";\nimport \"./Cards.scss\";\n\nexport const Cards = () => {\n  const { subject } = useParams();\n  const teas = useRecoilValue(teasState);\n\n  const $Teas = teas.map((tea) => (\n    <Card\n      key={tea.slug}\n      tea={tea}\n      subject={(subject as ImageSubject) || \"wrapperTop\"}\n    />\n  ));\n  return <section className=\"TeaCards\">{$Teas}</section>;\n};\n","import { useSearchParams } from \"react-router-dom\";\nimport { TeaProduct } from \"types/TeaProduct\";\nimport \"./ListRow.scss\";\n\nexport const ListRow = ({ tea }: { tea: TeaProduct }) => {\n  const [params, setParams] = useSearchParams();\n\n  const { year, name, style, slug } = tea;\n  const detailSlug = params.get(\"detail\");\n\n  const setSelected = () =>\n    setParams({\n      detail: slug,\n    });\n\n  const isSelected = detailSlug === slug;\n  const classes = `ListText ${isSelected ? \"selected glow\" : \"\"}`;\n\n  return (\n    <tr className={classes} onClick={setSelected} id={slug}>\n      <td className=\"year\">{year} </td>\n      <td className=\"name\">{name} </td>\n      <td className=\"style\"> {style}</td>\n    </tr>\n  );\n};\n","import { useRecoilValue } from \"recoil\";\nimport { teasState } from \"states/teas\";\nimport { ListRow } from \"components/TeaProduct/ListRow\";\nimport \"./List.scss\";\n\nexport const List = () => {\n  const teas = useRecoilValue(teasState);\n\n  return (\n    <table className=\"List\">\n      <tbody>\n        {teas.map((t) => (\n          <ListRow key={t.slug} tea={t} />\n        ))}\n      </tbody>\n    </table>\n  );\n};\n","import { useSearchParams } from \"react-router-dom\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport { getImageUrl, ImageSubject, TeaProduct } from \"types/TeaProduct\";\nimport \"./Slice.scss\";\n\ninterface TeaSliceProps {\n  tea: TeaProduct;\n  subject: ImageSubject;\n}\n\nexport const Slice = ({ tea, subject }: TeaSliceProps) => {\n  const [params, setParams] = useSearchParams();\n  const detailSlug = params.get(\"detail\");\n\n  const { year, name, slug } = tea;\n  const setSelected = () =>\n    setParams({\n      detail: slug,\n    });\n\n  const imageUrl = tea.images[subject];\n  const size = 400;\n\n  const isSelected = detailSlug === slug;\n  const classes = `TeaSliceWrapper ${\n    isSelected ? \"selected\" : \"\"\n  } ${subject} ${size}`;\n\n  return (\n    <span className={classes} onClick={setSelected} id={slug}>\n      {imageUrl && (\n        <img\n          src={getImageUrl(imageUrl, size)}\n          alt={name}\n          width={size}\n          height={size}\n          className=\"TeaSlice\"\n        />\n      )}\n      <div className=\"TeaSliceInfoWrapper\">\n        <div className=\"TeaSliceInfo glow\">\n          <span>{year}</span>\n          <span>{name}</span>\n        </div>\n      </div>\n    </span>\n  );\n};\n\nexport interface SlicesProps {\n  teas: TeaProduct[];\n}\n\nexport const getDefaultFilters = (view: string) =>\n  ({\n    cake: true,\n    brick: view === \"wrapper\" ? false : true,\n    square: view === \"wrapper\" ? false : true,\n    mini: view === \"wrapper\" ? false : true,\n    ball: view === \"wrapper\" ? false : true,\n    bamboo: view !== \"soup\" ? false : true,\n  } as any);\n","import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useRecoilValue } from \"recoil\";\nimport { teasState } from \"states/teas\";\nimport { ImageSubject } from \"types/TeaProduct\";\nimport { getDefaultFilters, Slice } from \"components/TeaProduct/Slice\";\nimport \"./Slices.scss\";\n\nexport const Slices = () => {\n  const teas = useRecoilValue(teasState);\n  const params = useParams();\n  const subject = params.subject as ImageSubject;\n\n  const defaultFilters = getDefaultFilters(subject);\n  const [filteredSizes, setFilteredSizes] = useState(defaultFilters);\n\n  useEffect(() => {\n    setFilteredSizes(getDefaultFilters(subject));\n  }, [subject]);\n\n  const toggle = (size: any) => ({\n    ...filteredSizes,\n    [size]: !filteredSizes[size] as boolean,\n  });\n\n  const Filters = Object.keys(defaultFilters).map((size) => (\n    <button\n      key={size}\n      className={`button toggle ${filteredSizes[size] ? \"checked\" : \"\"}`}\n      onClick={() => setFilteredSizes(toggle(size))}\n    >\n      {size}\n    </button>\n  ));\n\n  const TeaSlices = teas\n    .filter((t) => filteredSizes[t.size])\n    .map((t) => <Slice key={t.slug} tea={t} subject={subject} />);\n\n  return (\n    <>\n      <nav className=\"TeaSliceFilters\">{Filters}</nav>\n      <div className=\"TeaSlices\">{TeaSlices}</div>\n    </>\n  );\n};\n","import { Nav } from \"components/Nav\";\nimport { DetailDrawer } from \"routes/DetailDrawer\";\nimport { useEffect } from \"react\";\nimport { useRecoilValue } from \"recoil\";\nimport { sortingState } from \"states/sorting\";\nimport { teaStyleFilteringState } from \"states/teaStyleFiltering\";\n\nimport \"./App.scss\";\nimport { useKeyboardNavigation } from \"hooks/useKeyboardNavigation\";\nimport {\n  Routes,\n  Route,\n  Navigate,\n  useSearchParams,\n  Outlet,\n  useLocation,\n} from \"react-router-dom\";\nimport { Cards } from \"routes/Cards\";\nimport { List } from \"routes/List\";\nimport { Slices } from \"routes/Slices\";\nimport { teasState } from \"states/teas\";\nimport { scrollToId } from \"utils/scrollTo\";\n\nconsole.log(`msg: ${process.env.REACT_APP_GIT_MSG}`);\n\nfunction App() {\n  const sorting = useRecoilValue(sortingState);\n  const filtering = useRecoilValue(teaStyleFilteringState);\n  const teas = useRecoilValue(teasState);\n  const [params] = useSearchParams();\n  const location = useLocation();\n\n  const detail = params.get(\"detail\") || \"\";\n\n  useEffect(() => {\n    const state = {\n      sorting,\n      filtering,\n    };\n    const json = JSON.stringify(state);\n    localStorage.setItem(\"state\", json);\n  }, [sorting, filtering]);\n\n  useEffect(() => {\n    scrollToId(detail || \"app\", 80);\n  }, [sorting, filtering, detail, location.pathname]);\n\n  useKeyboardNavigation(teas);\n\n  return (\n    <div className=\"app\">\n      <Routes>\n        <Route path=\"/\" element={<Main />}>\n          <Route path=\"cards/:subject\" element={<Cards />} />\n          <Route path=\"slices/:subject\" element={<Slices />} />\n          <Route path=\"list/:subject\" element={<List />} />\n          <Route path=\"*\" element={<Navigate to=\"cards/wrapperTop\" />} />\n        </Route>\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n\nconst Main = () => {\n  const [params] = useSearchParams();\n  const detail = params.get(\"detail\") || \"\";\n  return (\n    <>\n      <Nav />\n      <main className={detail ? \"detail--open\" : \"\"}>\n        <Outlet />\n      </main>\n      <DetailDrawer />\n    </>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { RecoilRoot } from \"recoil\";\nimport App from \"./App\";\nimport \"./index.scss\";\nimport reportWebVitals from \"./utils/reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <RecoilRoot>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </RecoilRoot>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals(console.debug);\n"],"sourceRoot":""}